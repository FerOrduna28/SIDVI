<ion-split-pane contentId='main'>
    <ion-menu menuId='sidebar' contentId='main'>
        <!--content-->
        <ion-content class='sidebar-menu'>

            <!-- tarjeta usuario-->
            <div id='card-usuario'>
                <div id='user-img' class='d-inline-block'>
                    <img class='imagen-perfil' src='../../assets/images/user.png'>
                </div>
                <div id='user-data' class='d-inline-block'>
                    <span id='user-name' class='d-block'>USUARIO</span>
                    <span id='user-role' class='d-block'>Rol</span>
                </div>
            </div>

            <!--lista-->
            <div id="lista" class="flex-column">
                <!--cuenta-->
                <div class="list-header header-text flex-row center-vertically">
                    <fa-icon class='btn-icono d-inline-block' [icon]="icons.user"></fa-icon> 
                    <h5>CUENTA</h5>
                </div>
                <div class="list-item item-text flex-row center-vertically" (click)="abrirPerfil()" >
                    <p>Mi perfil</p>
                </div>
                <div class="list-item item-text flex-row center-vertically">
                    <p>Restablecer contraseña</p>
                </div>

                <!--Catalogos-->
                <div class="list-header header-text flex-row center-vertically">
                    <fa-icon class='btn-icono d-inline-block' [icon]="icons.edit"></fa-icon> 
                    <h5>CATÁLOGOS</h5>
                </div>
                <div class="list-item item-text flex-row center-vertically" (click)="abrirCatalogo('informacion')" >
                    <p>Información</p>
                </div>
                <div class="list-item item-text flex-row center-vertically" (click)="abrirCatalogo('estadistica')">
                    <p>Estadística</p>
                </div>
                <div class="list-item item-text flex-row center-vertically"  (click)="abrirCatalogo('ubicaciones')">
                    <p>Ubicaciones</p>
                </div>

                <!--Consultorios-->
                <div class="list-header header-text flex-row center-vertically">
                    <fa-icon class='btn-icono d-inline-block' [icon]="icons.bell"></fa-icon> 
                    <h5>SOLICITUDES</h5>
                </div>
                <div class="list-item item-text flex-row center-vertically" (click)="abrirConsultorios()" >
                    <p>Consultorios</p>
                </div>

                <!--Virus-->
                <div class="list-header header-text flex-row center-vertically">
                    <fa-icon class='btn-icono d-inline-block' [icon]="icons.virus"></fa-icon> 
                    <h5>VIRUS</h5>
                </div>
                <div *ngFor="let virus of viruss">
                    <div class='list-item item-text flex-row center-vertically' (click)="abrirVirus(virus)">
                        <p>{{virus.nombre}}</p>
                    </div>
                </div>
                <!--Salir-->
                <div class="list-header header-text flex-row center-vertically" style="height: 5px;">
                </div>
                <div class='list-item item-text flex-row center-vertically' (click)="cerrarSesion()" style="border: 1px solid #d5d5d5;">
                    <p style="color:red">Cerrar Sesión</p>
                </div>
            </div>
           
            <!--
                <ion-list class="lista-opciones">
                    <div class='btn-item' (click)="abrirPerfil()">
                        <fa-icon class='btn-icono d-inline-block' [icon]="icons.user"></fa-icon>
                        <div class='btn-text d-inline-block'>Mi Perfil</div>
                    </div>
                    <div class='btn-item' routerLink='./catalogos'>
                        <fa-icon class='btn-icono d-inline-block' [icon]="icons.edit"></fa-icon>
                        <div class='btn-text d-inline-block'>
                            Editar catálogos
                        </div>
                    </div>
                    <div *ngFor="let virus of viruss">
                        <div class='btn-item' (click)="abrirVirus(virus)">
                            <fa-icon class='btn-icono d-inline-block' [icon]="icons.virus"></fa-icon>
                            <div class='btn-text d-inline-block'>{{virus.nombre}}</div>
                        </div>
                    </div>
                    
                    <div class='btn-item' (click)="cerrarSesion()">
                        <fa-icon class='btn-icono d-inline-block' [icon]="icons.close"></fa-icon>
                        <div class='btn-text d-inline-block' routerLink="/login" (click)="cerrarSesion()">Cerrar Sesion
                        </div>
                    </div>
                </ion-list>
            -->

            <!--boton-->
            <div class="boton flex-row justify-content-center">
                <div class="btn btn-info d-inline-block text-white m-1"(click)="basicModal.show()">
                    Agregar Virus
                </div>
            </div>
        </ion-content>
    </ion-menu>
    <ion-router-outlet id='main'> </ion-router-outlet>
</ion-split-pane>

<!-- MODAL AGREGAR INFORMACIÓN-->
<div mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"
    [config]="{backdrop: false, ignoreBackdropClick: true}">
    <div class="modal-dialog modal-dialog-centered" role="document">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close pull-right" aria-label="Close" (click)="resetModal()">
                    <span aria-hidden="true">×</span>
                </button>
                <h4 class="modal-title w-100" id="myModalLabel">Agregar virus</h4>
            </div>
            <div class="modal-body">

                <!-- NOMBRE -->
                <div class='label-input'>
                    <label>Nombre del virus</label>
                    <input [(ngModel)]="newVirus.nombre" mdbInput type="text" class="form-control"
                        value="{{newVirus.nombre}}">
                </div>

                <!-- CLAVE -->
                <div class='label-input'>
                    <label>Clave</label>
                    <input [(ngModel)]="newVirus.clave" mdbInput type="text" class="form-control" value="{{newVirus.clave}">
                </div>

                <!-- ARCHIVO -->
                <div class='label-input'>
                    <label>Archivo</label>
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" id="inputGroupFile01"
                            aria-describedby="inputGroupFileAddon01" (change)="handleAddFileInput($event.target.files)">
                        <label class="custom-file-label" for="inputGroupFile01">{{newVirus.localFileName}}</label>
                    </div>
                </div>
            </div>
            <div class=" modal-footer">
                    <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close"
                        (click)="resetModal()" mdbWavesEffect>Cerrar</button>
                    <button type="submit" mdbBtn color="primary" (click)="agregarVirus()" class="relative waves-light"
                        mdbWavesEffect>Agregar</button>
                </div>
            </div>
        </div>
    </div>