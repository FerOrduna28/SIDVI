<ion-header id='encabezado' class="header">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      <span class="textHeader">Lista de preguntas</span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="fondo">
  <a class="btn btn-info blanco d-flex justify-content-center anchoBoton" (click)="modalAgregarPregunta.show();">
    Agregar pregunta </a>
  <div class="d-flex justify-content-center contenedor">

    <div class="d-flex justify-content-center contenedorPreguntas">

      <div class=" d-inline-block cartaVirus  m-3" *ngFor="let testNodo of testNodos">
        <div class="card text-center">
          <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
            {{testNodo.texto}}
          </div>
          <div class="card-body">
            <div>
              <a class="btn btn-info d-inline-block text-white m-1"
                routerLink='/administrador/editTest/{{testNodo.idTestNodo}}'>
                Editar
              </a>
              <a class="btn btn-danger d-inline-block text-white m-1"  (click)="localTestNodo = testNodo; modalEliminarTestNodo.show();">
                Eliminar
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>

<!-- Modal Eliminar Pregunta -->
<div mdbModal #modalEliminarTestNodo="mdbModal" class='modal fade' tabindex='-1' role='dialog' aria-hidden='true'
  [config]="{backdrop: false, ignoreBackdropClick: true}">
  <div class='modal-dialog' role='document'>
    <div class='modal-content'>
      <div class='modal-header'>
        <span class='modal-title tamanoTitulo'>¿Está seguro que desea eliminar {{localTestNodo.texto}}?</span>
        <button type='button' class='close pull-right' aria-label='Close' (click)="modalEliminarTestNodo.hide()">
          <span aria-hidden='true'>×</span>
        </button>
      </div>
      <div class='modal-body pl-3 pr-3 pb-3 d-flex justify-content-center'>
        <a class="btn btn-danger ml-4 blanco" (click)="eliminarTestNodo();"> Eliminar </a>
        <a class="btn btn-success ml-4 blanco" (click)="modalEliminarTestNodo.hide()"> Cancelar </a>
      </div>
    </div>
  </div>
</div>

  <!-- Modal Agregar Pregunta -->
  <div mdbModal #modalAgregarPregunta="mdbModal" class='modal fade' tabindex='-1' role='dialog' aria-hidden='true'
    [config]="{backdrop: false, ignoreBackdropClick: true}">
    <div class='modal-dialog' role='document'>
      <div class='modal-content'>
        <div class='modal-header'>
          <span class='modal-title tamanoTitulo'>Agregar Pregunta</span>
          <button type='button' class='close pull-right' aria-label='Close' (click)="modalAgregarPregunta.hide()">
            <span aria-hidden='true'>×</span>
          </button>
        </div>
        <div class='modal-body pl-3 pr-3 pb-3'>
          <div class="form-group">
            <label for="texto">Texto </label>
              <input class="d-flex justify-content-center form-control" [(ngModel)]="nuevoTestNodo.texto" type="text"
              id="texto" placeholder="nombre">
              <label for="descripcion">Descripción </label>
              <input class="d-flex justify-content-center form-control" [(ngModel)]="nuevoTestNodo.descripcion" type="text"
              id="descripcion" placeholder="nombre">
          </div>  
        </div>
        <div class='modal-footer d-flex justify-content-center'>
          <a class="d-flex justify-content-center btn btn-success ml-4 blanco" (click)=agregarTestNodo();> Agregar
            Pregunta </a>
        </div>
      </div>
    </div>
  </div>
